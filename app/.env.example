
# OpenAIのAPIキー（https://platform.openai.com/account/api-keys で取得）
OPENAI_API_KEY=

# Discord Botのトークン（Discord開発者ポータルで取得）
DISCORD_BOT_TOKEN=

# DiscordアプリのクライアントID（Discord開発者ポータルで取得）
DISCORD_CLIENT_ID=

# Botを許可するサーバーID（カンマ区切りで複数指定可能）
ALLOWED_SERVER_IDS=

# サーバーID:モデレーションチャンネルID の対応（例: 123456789012345678:987654321098765432）
SERVER_TO_MODERATION_CHANNEL=

# Botの権限設定（デフォルト値: 17179937792）
# 17179937792 は以下の権限を含みます:
# - View Channels   
# - Send Messages
# - Manage Threads
# - Read Message History
PERMISSIONS=17179937792

# 会話履歴の最大保持件数（デフォルト: 30）
# チャンネル単位で保持する過去メッセージの上限数
HISTORY_MAX_ITEMS=30

# Cost (USD per 1k tokens)
OPENAI_PROMPT_TOKEN_COST=0.005
OPENAI_COMPLETION_TOKEN_COST=0.015

# Summarization tuning
SUMMARY_TRIGGER_PROMPT_TOKENS=2800
SUMMARY_TARGET_REDUCTION_RATIO=0.5
SUMMARY_MAX_SOURCE_CHARS=8000
SUMMARY_MODEL=

# Web search cache
WEBSEARCH_CACHE_TTL=180
WEBSEARCH_CACHE_MAX=128

# メンション無しでも通常チャンネル発言に自動応答するか (1=有効, 0=無効 / デフォルト1)
RESPOND_WITHOUT_MENTION=1

# 非メンション自動応答に対する簡易レートリミット設定
# 指定ウィンドウ秒間にユーザー毎に許容する最大メッセージ数
RATE_LIMIT_WINDOW_SEC=30
RATE_LIMIT_MAX_EVENTS=5

# 免責/不要文の除去パターン拡張 (任意)
# 英語パターンも除去するか (1=する / 0=しない)
DISCLAIMER_ENABLE_ENGLISH=1
# 追加で除去したい正規表現パターンを | 区切りで指定 (例: '^※これはテスト')
DISCLAIMER_EXTRA_PATTERNS=

# 検索を積極化 (スコア閾値緩和 + 疑問形/特定語で検索許可)
SEARCH_AGGRESSIVE_MODE=0

# OpenAI タイムアウト・フォールバック設定
# プライマリモデルのタイムアウト時間（秒）
OPENAI_PRIMARY_TIMEOUT_SEC=20
# フォールバックモデルのタイムアウト時間（秒）
OPENAI_FALLBACK_TIMEOUT_SEC=8
# フォールバックモデル名（空の場合フォールバック無効）
OPENAI_FALLBACK_MODEL=
# OpenAI API 最大再試行回数
OPENAI_MAX_ATTEMPTS=3